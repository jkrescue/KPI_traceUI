# 指标定义与权衡分析功能说明

## 功能概述

指标定义与权衡分析是新能源汽车折叠方向盘全链路可视化系统的前置页面，用于在进入详细指标评估之前，帮助用户快速定义顶层指标、对比多个设计方案并选择最优方案。

## 核心功能

### 1. 顶层指标体系
系统预设了5个顶层关注指标维度：
- **成本**：系统总成本，包括材料、制造和开发成本（权重20%）
- **轻量化**：系统轻量化水平，影响整车能耗（权重15%）
- **安全**：锁止安全性和碰撞安全性能（权重25%）
- **空间**：乘员空间提升和进出便利性（权重20%）
- **性能**：折叠速度、精度、NVH和寿命（权重20%）

### 2. 指标自动拆解
顶层指标自动映射到一级KPI指标：
- 折叠时间 (KPI_FoldTime) → 影响性能、成本
- 折叠角度 (KPI_FoldAngle) → 影响性能、空间、轻量化
- 乘员空间提升 (KPI_SpaceGain) → 影响空间
- 锁止安全性 (KPI_LockSafe) → 影响安全
- NVH性能 (KPI_NVH) → 影响性能
- 折叠寿命 (KPI_Life) → 影响性能、成本

### 3. 三组设计方案对比

#### 方案A：性能优先
- **特点**：采用高性能电机、铝合金材料、精密传感器
- **优势**：极致性能（98分）、高安全（95分）、大空间（90分）
- **劣势**：成本较高（45分）
- **适用场景**：高端车型，追求极致用户体验

#### 方案B：平衡方案 ⭐推荐
- **特点**：钢铝混合材料、标准电机和传感器配置
- **优势**：各维度均衡，综合性能好
- **评分**：成本75、轻量化70、安全90、空间85、性能88
- **适用场景**：主流车型，平衡性能与成本

#### 方案C：成本优先
- **特点**：钢材、标准电机、基础传感器
- **优势**：成本优秀（92分）
- **劣势**：轻量化较弱（55分）
- **适用场景**：经济型车型，成本敏感市场

### 4. 雷达图可视化对比
- 五维雷达图直观展示三组方案在各维度的表现
- 支持交互式Tooltip，查看具体分数
- 颜色区分：方案A（红色）、方案B（紫色）、方案C（绿色）

### 5. 方案选择与KPI预览
- 点击方案卡片进行选择
- 实时显示选定方案的6个一级KPI指标预览
- 显示每个KPI的达成率和目标值
- 推荐方案带有"推荐"标签

## 使用流程

1. **查看顶层指标体系**
   - 了解5个关注维度及其权重
   - 查看指标拆解映射关系

2. **对比三组方案**
   - 查看雷达图，直观对比各方案表现
   - 阅读方案描述，了解技术特点
   - 查看各维度评分

3. **选择方案**
   - 点击方案卡片进行选择
   - 查看选定方案的KPI预览
   - 确认达成率和目标值

4. **进入指标评估**
   - 点击右上角"进入指标评估"按钮
   - 系统自动将选定方案的KPI值同步到全链路画布
   - 在主界面查看完整的四层架构和指标链路

5. **返回修改方案（可选）**
   - 在主界面左上角点击"返回方案选择"按钮
   - 重新选择其他方案进行对比
   - 系统会保留您之前的选择状态

## 数据同步机制

选定方案后，系统会将方案的KPI值同步更新到主界面：
- 更新一级KPI节点的达成率 (achievementRate)
- 更新节点的达成状态 (achieved: ≥90%为达成)
- 在主界面Header显示当前选定方案信息

## 技术实现

### 数据结构
- `/data/tradeoffData.ts`：定义顶层指标、方案数据和指标映射关系
- 使用TypeScript接口确保类型安全

### 组件
- `/components/TradeoffAnalysis.tsx`：前置页面主组件
- 集成recharts库实现雷达图可视化

### 页面切换
- App.tsx管理页面状态（tradeoff / evaluation）
- 通过props传递选定方案数据

## 扩展建议

1. **更多方案**：可增加方案数量，提供更多选择
2. **自定义权重**：允许用户调整顶层指标权重
3. **导入导出**：支持方案配置的导入导出
4. **历史记录**：保存用户的方案选择历史
5. **敏感性分析**：展示参数变化对方案评分的影响

## 注意事项

- 默认进入前置页面，用户可以先进行方案选择
- 推荐方案（方案B）为默认选项
- 选定方案后才能进入主评估界面
- 主界面会显示当前选定的方案名称和推荐标签